2025-08-30 09:14:55,765 - chatbot_logger - INFO - Initializing chatbot backend...
2025-08-30 09:14:55,765 - chatbot_logger - INFO - metadata.json found. Clearing existing vector store before re-initialization.
2025-08-30 09:14:55,781 - chatbot_logger - INFO - Vector store cleared.
2025-08-30 09:14:55,781 - chatbot_logger - INFO - Existing vector store cleared based on metadata.json presence.
2025-08-30 09:14:55,921 - chatbot_logger - DEBUG - Initialized 5 KB chunks.
2025-08-30 09:14:55,921 - chatbot_logger - INFO - KB chunks initialized/re-initialized.
2025-08-30 09:14:55,937 - chatbot_logger - DEBUG - Loaded Profile for HIMANK:
{
  "user_id": "HIMANK",
  "demographics": {},
  "conditions": [],
  "preferences": {
    "tone": "genuine",
    "length": "short",
    "avoid_topics": []
  },
  "goals": [],
  "triggers": [],
  "therapeutic_styles": [
    "CBT",
    "Mindfulness"
  ],
  "timezone": "UTC",
  "safety_plan": {
    "contacts": [],
    "grounding_preference": ""
  },
  "consents": {
    "data_use": true,
    "crisis_detection": true
  },
  "updated_at": "2025-08-30T09:12:16.166791"
}
2025-08-30 09:14:59,545 - chatbot_logger - DEBUG - Detected User Emotion: neutral (Scores: {"neutral": 0.5002423524856567, "surprise": 0.4555504322052002, "sadness": 0.016911009326577187, "joy": 0.01478555891662836, "disgust": 0.00526770856231451, "anger": 0.0041102138347923756, "fear": 0.0031327661126852036})
2025-08-30 09:14:59,925 - chatbot_logger - INFO - User Query (HIMANK): hi, i'm himank
2025-08-30 09:14:59,925 - chatbot_logger - INFO - Assistant Response (HIMANK): Hi Himank! It's great to chat with you. I'm here to listen and support you in any way I can. How's your day going so far? Anything on your mind that you'd like to talk about or share?
2025-08-30 09:15:00,177 - chatbot_logger - ERROR - Error during LLM-based goal/condition extraction: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '</tool-use>\n{\n  "tool_call": {\n    "id": "pending",\n    "type": "function",\n    "function": {\n      "name": "GoalConditionExtraction"\n    },\n    "parameters": {\n      "conditions": [],\n      "goals": []\n    }\n  }\n}\n</tool-use>'}}
2025-08-30 09:15:00,177 - chatbot_logger - DEBUG - No profile updates detected for user HIMANK this turn.
2025-08-30 09:15:00,177 - chatbot_logger - DEBUG - Updated Profile for HIMANK:
{
  "user_id": "HIMANK",
  "demographics": {},
  "conditions": [],
  "preferences": {
    "tone": "genuine",
    "length": "short",
    "avoid_topics": []
  },
  "goals": [],
  "triggers": [],
  "therapeutic_styles": [
    "CBT",
    "Mindfulness"
  ],
  "timezone": "UTC",
  "safety_plan": {
    "contacts": [],
    "grounding_preference": ""
  },
  "consents": {
    "data_use": true,
    "crisis_detection": true
  },
  "updated_at": "2025-08-30T09:12:16.166791"
}
